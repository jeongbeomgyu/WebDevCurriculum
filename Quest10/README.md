# Quest 10. 인증의 이해

## Introduction

- 이번 퀘스트에서는 웹에서의 인증에 관해 알아보겠습니다.

## Topics

- Cookie
- Session
- JWT

## Resources

- [MDN - HTTP 쿠키](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies)
- [Cookies and Sessions](https://web.stanford.edu/~ouster/cgi-bin/cs142-fall10/lecture.php?topic=cookie)
- [JWT](https://jwt.io/)

## Checklist

- 쿠키란 무엇일까요?

쿠키는 웹사이트 접속시 접속자의 개인장치에 다운로드 되고 브라우저에 저장되는 작은 텍스트 파일이다.

- 쿠키는 어떤 식으로 동작하나요?

쿠키의 동작 방식은 클라이언트가 페이지를 요청하면 서버에서 쿠키를 생성한 다음 HTTP헤더에 쿠키를 포함 시켜 응답한다. 만약 브라우저가 종료되어도 쿠키 만료 기간이 있다면 클라이언트에서 쿠키를 보관하고 있다가 클라이언트가 같은 요청을 할 경우 HTTP 헤더에 쿠키를 함께 보낸다. 그러면 서버에서 쿠키를 읽어 이전 상태 정보를 변경할 필요가 있을 때 쿠키를 업데이트하여 변경된 쿠키를 HTTP 헤더에 포함시켜 응답한다.

- 쿠키는 어떤 식으로 서버와 클라이언트 사이에 정보를 주고받나요?

쿠키를 전송할 때 HTTP 요청 헤더에 Set-cookie 헤더 필드를 포함시키고, 이 필드는 클라이언트가 저장해야하는 쿠키의 이름, 값, 만료 시간 및 경로 등의 정보를 전달한다. 클라이언트는 이 정보를 저장하고, 이후 동일한 도메인의 서버로 요청을 보낼 때마다 HTTP 요청 헤더에 Cookie 헤더 필드를 포함시켜 저장된 쿠키 정보를 서버에 전달한다.

- 웹 어플리케이션의 세션이란 무엇일까요?

세션은 클라이언트와 서버 간의 정보를 유지하고 관리하는 방법이다.

- 세션의 ID와 내용은 각각 어디에 저장되고 어떻게 서버와 교환되나요?

클라이언트가 서버에 처음으로 요청을 하면 서버는 클라이언트에게 고유한 세션 ID를 할당하고, 이 ID를 클라이언트에게 전송한다. 클라이언트는 세션 ID를 저장한다. 클라이언트 측에는 세션 ID만 저장되고, 실제 세션 데이터(내용)는 서버에서 관리된다.

- JWT란 무엇인가요?
  jwt(JSON Web Token)는 웹 기반 애플리케이션에서 사용되는 인증 및 권한 부여 방식 중 하나로, 클라이언트와 서버 간의 정보를 안전하게 전송하고 검증하는 데 사용된다.

  - JWT 토큰은 어디에 저장되고 어떻게 서버와 교환되나요?

  JWT 토큰은 일반적으로 클라이언트 측에 저장되고 웹 어플리케이션에서는 웹브라우저의 로컬 스토리지나 세션 스토리지에 저장한다. 클라이언트에서 HTTP 요청을 보낼 때, 요청 헤더에 JWT 토큰을 포함시켜 보내고, 이를 통해 서버는 토큰을 수신하고, 클라이언트가 인증 및 인가된 사용자인지 확인 할수 있다.

- 세션에 비해 JWT가 가지는 장점은 무엇인가요? 또 JWT에 비해 세션이 가지는 장점은 무엇인가요?

jwt는 세션과 달리 상태를 저장하지 않기 때문에, 서버 부하가 상대적으로 적고 서버 측에서 상태를 유지할 필요가 없기 때문에, 서버 확장성이 높고 클라이언트 측에서 토클을 저장하고 인증 정보를 관리하기 때문에, 여러 서버에 걸쳐 인증정보를 공유할 수 있다. 세션 기반의 인증 시스템은 JWT와 달리 서버에서 인증 정보를 관리하기 때문에, 탈취된 세션 ID를 이용한 공격을 막을 수 있고, 세션의 유효기간을 관리할 수도, 로그아웃 처리를 서버에서 수행할 수도 있다.

## Quest

- 이번에는 메모장 시스템에 로그인 기능을 넣고자 합니다.
  - 사용자는 딱 세 명만 존재한다고 가정하고, 아이디와 비밀번호, 사용자의 닉네임은 하드코딩해도 무방합니다.
  - 로그인했을 때 해당 사용자가 이전에 작업했던 탭들과 마지막으로 활성화된 탭 등의 상태가 로딩 되어야 합니다.
  - 세션을 이용한 버전과, JWT를 이용한 버전 두 가지를 만들어 보세요!
    - 세션을 이용할 경우 세션은 서버의 메모리나 파일에 저장하면 됩니다.

## Advanced

- Web Authentication API(WebAuthn)은 무엇인가요?
